(()=>{"use strict";var q={};q.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(q){if("object"==typeof window)return window}}(),(()=>{var e;q.g.importScripts&&(e=q.g.location+"");var t=q.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),q.p=e})(),(()=>{function e(q,e){(null==e||e>q.length)&&(e=q.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=q[t];return i}var t=function(q,e,t,i){var r=document.createElement(q);return e&&(r.className=e),t&&(r.innerHTML=t),i&&i.append(r),r};function i(q){for(var t=[],i=1;i<q;i+=1)t.push(i);if(t=function(q){for(var t=function(q){return function(q){if(Array.isArray(q))return e(q)}(q)||function(q){if("undefined"!=typeof Symbol&&null!=q[Symbol.iterator]||null!=q["@@iterator"])return Array.from(q)}(q)||function(q,t){if(q){if("string"==typeof q)return e(q,t);var i=Object.prototype.toString.call(q).slice(8,-1);return"Object"===i&&q.constructor&&(i=q.constructor.name),"Map"===i||"Set"===i?Array.from(q):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(q,t):void 0}}(q)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(q),i=t.length-1;i>0;i-=1){var r=Math.floor(Math.random()*(i+1)),n=[t[r],t[i]];t[i]=n[0],t[r]=n[1]}return t}(t),!function(q){for(var e=0,t=0;t<q.length-1;t+=1)for(var i=t+1;i<q.length;i+=1)q[t]>q[i]&&(e+=1);return!(e%2)}(t)){var r=[t[1],t[0]];t[0]=r[0],t[1]=r[1]}return t.push(0),t}var r,n=t("header","header","",document.body),o=t("div","wrapper wrapper__header","",n),s=t("div","buttons","",o),a=t("button","button button__start","New game",s),c=t("button","button button__save","Save",s),d=t("button","button button__continue","Continue game",s),A=t("button","button button__resalts","Resaults",s),u=t("div","checkSound checkSound_active","<p>Sound: </p><div></div>",s),l=t("div","hamburger","<span></span><span></span><span></span>",o);function h(){s.classList.remove("buttons_open"),l.classList.remove("hamburger_open"),s.removeEventListener("click",h),r.remove(),r=null}function m(q,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(q,i.key,i)}}l.addEventListener("click",(function(){s.classList.toggle("buttons_open"),l.classList.toggle("hamburger_open"),s.addEventListener("click",h),r?(r.remove(),r=null):r=t("div","shadow","",document.body)}));const f=function(){function q(e,i,r,n){var o=this;!function(q,e){if(!(q instanceof e))throw new TypeError("Cannot call a class as a function")}(this,q),function(q,e,t){e in q?Object.defineProperty(q,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):q[e]=t}(this,"moveCard",(function(q,e){o.cardContainer.style.left="".concat(q,"px"),o.cardContainer.style.top="".concat(e,"px")})),this.width=e,this.value=i,this.cardContainer=t("div","cardContainer"),this.cardContainer.dataset.id=i,this.cardContainer.style.width="".concat(e,"px"),this.cardContainer.style.fontSize="".concat(e/1.6,"px"),this.cardContainer.style.left="".concat(r,"px"),this.cardContainer.style.top="".concat(n,"px"),t("div","cardContent","<p>".concat(i,"</p>"),this.cardContainer)}var e,i;return e=q,(i=[{key:"resize",value:function(q){this.cardContainer.style.width="".concat(q,"px"),this.cardContainer.style.fontSize="".concat(q/1.6,"px")}}])&&m(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),q}();var v=t("main","main","",document.body),p=t("div","wrapper wrapper__main","",v),S=t("div","container__timer","",p),y=t("div","movesContainer","",S);t("p","","Moves: ",y);var w=t("p","moves","00",y),b=t("div","timerContainer","",S);t("p","","Time: ",b);for(var g,E,L,I,M,z=t("p","timer","00:00",b),T=t("div","fieldContainer","",p),C=t("div","field","",T),k=t("form","frameSizeForm","",p),D=t("fieldset","","<legend>Please select frame size:</legend>",k),Q=t("ul","listRadio","",D),x=[],R=3;R<=8;R+=1){var U=(g=R,E="".concat(R,"x").concat(R),L=4===R,void 0,M=void 0,I=t("li"),(M=t("input","","",I)).setAttribute("type","radio"),M.setAttribute("name","size"),M.setAttribute("id","size".concat(g)),M.setAttribute("value","".concat(g)),L&&M.setAttribute("checked",""),t("label","",E,I).setAttribute("for","size".concat(g)),I);x.push(U),Q.append(U)}var W={max:{8:50,7:57,6:66,5:80,4:100,3:133},min:{8:35,7:40,6:46,5:56,4:70,3:93}},G=700;const K=q.p+"./assets/swipe.mp3",Z=q.p+"./assets/win.mp3";function B(q){return function(q){if(Array.isArray(q))return j(q)}(q)||function(q){if("undefined"!=typeof Symbol&&null!=q[Symbol.iterator]||null!=q["@@iterator"])return Array.from(q)}(q)||function(q,e){if(q){if("string"==typeof q)return j(q,e);var t=Object.prototype.toString.call(q).slice(8,-1);return"Object"===t&&q.constructor&&(t=q.constructor.name),"Map"===t||"Set"===t?Array.from(q):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(q,e):void 0}}(q)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(q,e){(null==e||e>q.length)&&(e=q.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=q[t];return i}function F(q,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(q,i.key,i)}}function O(q,e,t){return e in q?Object.defineProperty(q,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):q[e]=t,q}var P=function(){function q(e){var i=this;!function(q,e){if(!(q instanceof e))throw new TypeError("Cannot call a class as a function")}(this,q),O(this,"setLocalStorage",(function(){i.save&&i.save.fieldArr&&localStorage.setItem("saveGameGemPuzzle",JSON.stringify(i.save)),i.records&&i.records.length&&localStorage.setItem("gameGemPuzzleRecords",JSON.stringify(i.records))})),O(this,"showResult",(function(){if(i.records&&i.records.length){var q=t("div","shadow","",document.body),e=t("div","records","<p>Moves</p><p>Time</p>",q);i.records.forEach((function(q){var i=Math.floor(q.time/60).toString().padStart(2,"0"),r=(q.time%60).toString().padStart(2,"0");t("p","","".concat(q.moves),e),t("p","","".concat(i,":").concat(r),e)})),q.addEventListener("click",(function(){q.remove()}))}})),O(this,"timerPause",(function(){i.isTimer?i.stopTimer():i.startTimer()})),O(this,"mouseDown",(function(q){var e=q.target.closest(".cardContainer");e&&i.isCanMove(e.dataset.id)&&(i.isMouseDown=!0,i.field.addEventListener("mousemove",i.mouseMove),i.currentEl=e)})),O(this,"mouseMove",(function(){i.isMouseDown&&(i.isMove=!0)})),O(this,"mouseUp",(function(){if(i.isMouseDown){if(i.isMouseDown=!1,i.isMove)i.isMove=!1;else{if(i.isSound){var q=new Audio;q.src="data:audio/mpeg;base64,//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAXAAATlgALCwsLFhYWFiEhISEhLCwsLDc3NzdCQkJCQk1NTU1ZWVlZZGRkZGRvb29venp6eoWFhYWFkJCQkJubm5umpqamprKysrK9vb29yMjIyMjT09PT3t7e3unp6enp9PT09P////8AAAA5TEFNRTMuOTcgAaUAAAAALGYAABRAJAVHQgAAQAAAE5ZLlXefAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAohJ0gUEoABdSJwNxrQAv/uQAAMOBwjKc50D4ud+QhzuhA4HCKHBRloRhMAAIKKc53/nep3yEIpCTuhCKHBRvyE////nf/8hGOHBRgffBBxcPiM+Qwf/B94frD4jD6MH6BQKBQKBQKBQKBQIAgKvQGE8doIX4KaABvxjBnBTF24XwLwLARH+MUS8ELGKO3/w3ykLESsfxxf/joSobA8Tw8BM//8cpLEoURGymOer//84degSZFMlpHv/qbwqpUCprqsCGTHIbelyRL/+1LEBgALUStOWGQACYmiKhsM0ABus0QhIQCELCjmjh/LkkyOFBCNk4clqQNHVb9CIKQ7oyV2tVFSnFILFjoTuK4fYxr+KNYeTXql1Py8zNd8QzE3jO+///0pJqrvvLkTrlaAIIMMIAMAJ0r6wWqAot7C9bwSjJG2PM2Hwuoq5iQKy8p6uHLGCJUS0G2iiYl5fzg8xJBsGAMTVaJkkl+Uy+pA4Yl9fUl/opHmUgkhqSS//y4Tzc85qoxKZuEA7lf4RUm8IiwF+ABgFuL9lPHEp//7UsQFgwnUwShc9AAJkg7jAYYMuTBPpbQ1vfQ2XTJcWFg/GHI1sxQfAuxa7Oa5shTmyirKFrPFpaBZobXn0dRWo1mluIiF40YZtYhSSSdX3Gusa90v1/8waNOlh7Xp2VoIQmI2D4CSoyhHE0tBAlPaayyTYD6TkakGc7QETGZ6skFNsJUh/+hrhp1bHjWuDYRMJFBSUZ+S3+hJq9+y4r77dJRbd+csQK5nNbg7TjP6ttNTm1lAmdYTf1VFC1UwAC0S79NOB+Jx8faSXSgZIafV//tSxAmDy3WhGCeMT4Fsj+NAwxkr7XQXbb5ac1ru+9d0JiMoTNTPvKbEuX1b9O2uQhFZ32Shbsf0kzdnyTa6LUnRz7TyH7ZlWbszlaiyd7KQlVuttCERDKiPDnnDtgJWNUsB0VgSK8icW9iHcWTbViDVoPS31VYge0txv8JyeS2jOznT6AtIB87319bnp/M87qMznb8WoMne77fb7Ke/3WM78W/k5xbMV32s+27xCf/5+qy17XDRzG0CQARF4kDe0kQ7PF26RitlkUoic8RaJST/+1LEDAEMXKEcRJh4QVsbZRiEmlBnK2P3kZIJCggICQy7LuyyYFEIdMnF9ywsyJKsWnp3gIOfC5lojeElCp5y5vTYu3QKpXWliQTaC0iWbWVWvaIFAS8UCSROuCqDptwYFUAE5g7uEZyyFLOFBp8PkChBG8XyqkbZQMDY4jbUDB1cSRDA52E1lRduCIgPUJ17U7srO0y/L3O3og4DDw1rh7iHuHtsd9MPKKQ9Gt92htN2n/1f6lIWUklwgOWN0eGKFF3iITno4sQ4s58J59zcXP/7UsQNAAqRJ0OhpHRJZCRoaGYOiZ9ugo7cIOdHE/DdMj0VYpklA4BmaWd06f3/6BvT88894ZfwjIj/IyNlZWs0S+hRTFCBfIlS2E7pf/nHkAQACbsoZn/fF5mzVZUpDiPvy7P3aZpdYXw5EpAHMkD91rMcBgjPzUUX9IiyOanSWNcplPzuqhYywypGVYhLDLFIzv/lS/7vOolyYhxAGLlUu1c3k/LtPZp9NEgAAFybcNuG0EDG7EOkGA6EIOLl4d3lgNmCj3sUzI4lOyCQSm7F//tSxBQACn0HTaGEZklHlewkMItA8L5pSisrFpTTrudTIziaE7vFpJMqZMnt9f3MIsCM0AfZLQhKDAzjDnZ0wRmgLAAADdhMrKwgnTsLsTd9NHFuEIkI3AxbgbEHF000V5oY+BDAupz6E9CPnA3EAAc8uD7hOH1g55QMVnw+CADPwQwcLiAAAgD/+6IFAm8QfLh6hWRWMjQwEk0rgmTCpTCGYQ+YeLCH9VThwy5BKtnpEGku1uEJ3eDR5Dg+bFbIBOlRCGgVBU74mwaPcRFZ4Gj/+1LEHwAKLF9t4IRlwT6XqfKCgABS+oV8dLA09RYHSwKlVhoGQ1rDoqZJAQAAJydQMQ5ChQp2tM/VMjWSlq0CCJhCsVU8oFSu0rlCMy0TTMSb1c+tL9f3Fz/qgs9VZKqaevBsiFQEe1PiWIsnZEQirOt/89753+kAHUAAAIIBIYATQO2ClGIWwXECAUrtnV6ZctRKuZ+JxeVxebp+GywEmhLxCW4m76M/tX4xWeBtxMsepcax7zapve87RJzRz+jxcbx4O8byxs6sm1Ca0NXDpP/7UsQsgBAlM0E4N4ABZpmmgwzwACYs1/r1+/TO6Ypf9tesDK5t7NZi///+8fXveJr3//YVbSDYDD3///S5SBydAp1xTSU75hylxbs4wrHqm1a3V7GN4+DTPbwn0JzZK7QmKrU6hOv/h+/jqyajbE071ivkzr09qUs9kfRnq4///hUf32/vvWYDQZ5Ln8VBZTTze6j1Cz4AASBBAAAAFKIWC0idJblKsdRF54ekimQl9HL9VOqEhJLD2eJE7h9iIHVpjcrRctug4XzGA6iwyPHs//tSxB0ADNDTLNiXgAEqDqPLkmAAqHr7imENyYrXF2zSR4H1bMXP+YL2RuINGfPt13emsV1mlf/iFiNuS/dLD2aCWAAQAWSmR/bmRR8pZEhQs6agDLZzSNPACARLXnf8rWf6cklv2rOookh2VPiyyo1rPLaPo3zHer7mZPtczuCrRvyTLEvZBuJByZsALWAAWTAoqhV9RirBR2xr3GsawXWVE4BauIDYkD4UTMu1USVxZu/cgi7P5Qx9z0JIULKKrQxFj4642dTSSLAYXPAoA0D/+1LEIoJIsBccx5hiQSaBI0hjCAHmoCgQCNAA3Sx9u13d+f/y8ojZucxbVp1yqwkJe6//ulv/V/7v+j/ed9+87RZyD+uVVH/Vu9/Xh4ba6f+dmZtXf8q3n+byMg5qjdVqAAIYsAiwiQC8wdUKPirFuFVwwhyGBocFVIAkoeejS1aN/NsIGfhMpfebSrkHsAVzjb1lUxqHRE049rkvcghNh8nabGkAqDsTEGK7GzlT1b6ryIKBSEiIJQEIoBhRDIpAQ3/NZOhnD7Zd8zLQEbYPkf/7UsQ4g8iUDRpGIEABKKnjAHCKuSdADTgnO5mnxb61Y3Vy/jKPu/+eB27e5fmOD+fKLW0AAXR9Ghe4mbZ5oUjoJ71nDJOZ05xjTKbA0Oa8apjiuKo7kNBljXQ6x9B1ZtSqQiknWSXDC0SVinu1pDg0ANrpvKiYUAxNzg6FX5IEjVh9bKUktAJcDf36npEX986mZTDx6xOcYhLD7m/M2imSG+/Ee+9JOuIkvX+oo1lNqBObFRwuuAmlHm4YeWUAL+gAF0ZOrtZyL2s9n7ZE/oTO//tSxE8DSUhvGkeEZcEBDeOI8Iy4UWWSE3eGQXMtB4L2IAcAPF1O3rnG3jZXmc2rdu6UvWBHsKLFhp+IlWjUJfIVz1gZiAAnLEgABCb0uvUoef1/EVN0iVThQSbOFDlaQMKkBEZiOoodBetdLwZE1iRc43X/0JL+j/Nq3+PtSrQLK09DByoALcgADgLgQcLoWixH8fO8RKeVznSLt5TYDZCnrAyQAUe004KqV1IZarbsY1qxdy2SK2xSq8mNk1WV1TaSq2UJFnBykabceWm4SAD/+1LEZ4IIiHccxIRnwPuQ4+iQjLgFg+r2EcTCRyhH9fKqhWmQ5qaGh63uh+lUDBAkCAZPoijQtG2LbVTTU/5jShHWelabKKrLVyQii5RYoi8/KklisdWrAAMg8JyLIRZD3KD7vyOIeq62HZqzN6L7UoEOCM/pcyJlr3VJpQPfYt3NW9C063tsjnXnSY887WwSEzYgFUx7xw2KkQ38B4tGhyGsyJe1mT/1fMVURHOMVjSjYJKzIWFGA2Q0jNt9nS8v//8tl5/1XV+sX/Mmid4Lqv/7UsSDgwjsaxrEAGxBFA7jjMCMuDVUbRMv4I79t+wcAAd9qgAACGJdtWgAMZbf3+mfsBbSSGS41TooYmlIkNhIKgYUGhEaMDKwINAnoVsfT6AqRIAAFQuWawSZH5UR/984ed4FD7WxsciOFxLD6VHnkpxagLJPtIv+29zLRapSdClWOeRYFM0DUIu9Iq0eSIj1qLzzUwcdACpGSAADx49X+2u/2KfdJkaOCDuykQtlcMY0rO7mpN6X0l3/dql7+i/1/13V2/UiV1bf/r/vWyft//tSxJsCSIB7GkYEZcEQruOYcIsxW9HXVaon0u8zpTRQiXSAAvAIJDg+3Xsj6HeidXPU/QdQfY10UiROZ0ihcFBAG4ZRyJEfll5tYPXz62W1yb5cjzN+St3CiEEdzNVSK38yO9XaiL1e4KrlrqoFRNRJoNoMECQkmhM1FepkUMcacIrWPmdO7rrDpFppfOpK2THFrKRZPIbLoQOqpH/PY7tWag2q9D07uxCi8srC334SkNBi/aSqMZaMEjswpBzdnk2MUAM75DQUJCmIEYv5Awj/+1LEtIIFuHcnoQRnwRiL45zwjHgA5nBaCXDCR1ZNh69Wdm7GfV2ZPzarSI49SwWeFl3VvcyKQM28/I79O9vz/539PLpNPpZRyrkfdeLb5hpqTZTJZDgumaNZI5psZU2S05FN6RZaG1ZCNENtqaEkuMUGA3J0cXAmL6QpFI/JKqLDn5R1Qi9NDOH+Urrbwvtvdfmn+aZHew6UJqpSqaFkTJIcBGUZ9Cbh7V65/qU6cyisQNu1dqbFwxKk7ITGORdY8hzphrvA3N+GTAwGEKDuF//7UsTYggi9oxzmAEjBLTJjCHCLMdgYxHA6ytPW7fts+392W2tr0RrxIJCHGvKJ4TanLo5OB80IwTFZ2wWwhowA6mXydY/nlEm7GNa2hkZhWsYtYXhF3y2RGLruvVMFLJEMzlCRzUyhomGIGjg/nGFGKYUIIAU24XUqHo94MJ1K9GO6+Z3znDES5S3M6bVjXdWi84z0j958Msn16pwkWOW5TYzvtSYgRs5S9/jRjI8tTach1B2kJSR5spGu1c7Q8PsRax9Gs878FMRK00oR1GkE//tSxO2DTKGfDgYEZAlvM+IE8wwZMQADaBs1GCQDo31r+UeH2+fIZnPpLXMlKVxwphhYl/K58WkduUmtNUhxWM9Wz/IjNT4VpR+z/B50jGja2plWbtu0i3CSHAUT7M45wqeUOZnGhbNlSbU+hHEMysQUqgAqNEAADSR1Jo+zpCE2FPlOWYA602k9QOu0SQXjIF7mLMKnP4tS5OiaawPo96ih3PK6Rc9y1K+mfe3t3df7l5qzv93+61W7NX+l+zLa7r/rm+y8XwfR1JIAsAIEgDD/+1LE6wPMDaMMB6RgwXKz4UDAjjmaVSMzezeuzexqTNw6rBgICFMKZsMKpaky/+2p1f1XjHhmZmX///+MzMql1YYU12P1AWbXZmb9VWanG1+MUZm+Nsa9Jqx+sarqjMzATKqqqqoVozMBN7HsZcAlakxBTUUzLjk3qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UsTqg0uxjwgnoGDJczRgxJCMoKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqTEFNRTMuOTeqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//tSxOsCSuR7COeExcmIs97IkIyBqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LE7APAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",q.play()}var e=[i.fieldArr[i.zerroIndex],i.fieldArr[i.prevIndex]];i.fieldArr[i.prevIndex]=e[0],i.fieldArr[i.zerroIndex]=e[1];var t=i.zerroIndex%i.size*i.cardWidth,r=Math.floor(i.zerroIndex/i.size)*i.cardWidth;i.currentEl.style.left="".concat(t,"px"),i.currentEl.style.top="".concat(r,"px"),i.moves+=1,w.innerHTML=i.moves.toString().padStart(2,"0")}i.isWin()&&i.win()}})),O(this,"saveGame",(function(){if(i.save.size=i.size,i.save.fieldArr=B(i.fieldArr),i.save.moves=i.moves,i.save.time=i.time,i.isSound){var q=new Audio;q.src=Z,q.play()}})),O(this,"loadGame",(function(){if(i.save&&i.save.fieldArr){if(i.isSound){var q=new Audio;q.src=K,q.play()}i.stopTimer(),i.size=i.save.size,i.fieldArr=B(i.save.fieldArr),i.moves=i.save.moves,i.time=i.save.time,w.innerHTML=i.moves.toString().padStart(2,"0");var e=Math.floor(i.time/60).toString().padStart(2,"0"),t=(i.time%60).toString().padStart(2,"0");z.innerHTML="".concat(e,":").concat(t),i.cardWidth=window.innerWidth>G?W.max[i.size]:W.min[i.size],i.field.style.width="".concat(i.cardWidth*i.size,"px"),i.moveCards(),x.forEach((function(q){var e=q.querySelector("input");e.value===i.size.toString()&&(e.checked=!0)})),i.field.addEventListener("mousedown",i.mouseDown),i.field.addEventListener("mouseup",i.mouseUp),l.addEventListener("click",i.timerPause),c.addEventListener("click",i.saveGame),i.startTimer()}})),O(this,"newSize",(function(q){i.size=Number(q.target.value),i.field.innerHTML="",i.cardWidth=window.innerWidth>G?W.max[i.size]:W.min[i.size],i.field.style.width="".concat(i.cardWidth*i.size,"px"),i.start()})),O(this,"reSize",(function(){i.cardWidth=window.innerWidth>G?W.max[i.size]:W.min[i.size],i.field.style.width="".concat(i.cardWidth*i.size,"px"),i.moveCards()})),this.field=C,this.size=e,this.fieldArr=[],this.cardWidth=window.innerWidth>G?W.max[e]:W.min[e],this.media=window.matchMedia("(max-width: ".concat(G,"px)")),this.field.style.width="".concat(this.cardWidth*this.size,"px"),this.isSound=!!u.classList.contains("checkSound_active"),this.cards=[],this.isMove=!1,this.isMouseDown=!1,this.save=localStorage.saveGameGemPuzzle?JSON.parse(localStorage.saveGameGemPuzzle):{},this.records=localStorage.gameGemPuzzleRecords?JSON.parse(localStorage.gameGemPuzzleRecords):[],this.zerroIndex=0,this.prevIndex=0,this.moves=0,this.time=0,this.timerId=0,this.isTimer=!1,u.addEventListener("click",(function(){u.classList.toggle("checkSound_active"),i.isSound=!i.isSound})),D.addEventListener("change",this.newSize),this.media.addEventListener("change",this.reSize),A.addEventListener("click",this.showResult),d.addEventListener("click",this.loadGame),window.addEventListener("beforeunload",this.setLocalStorage)}var e,r;return e=q,r=[{key:"isWin",value:function(){return!this.fieldArr.some((function(q,e){return q>0&&q-1!==e}))}},{key:"startTimer",value:function(){var q=this;this.isTimer=!0,this.timerId=setInterval((function(){q.time+=1;var e=Math.floor(q.time/60).toString().padStart(2,"0"),t=(q.time%60).toString().padStart(2,"0");z.innerHTML="".concat(e,":").concat(t)}),1e3)}},{key:"stopTimer",value:function(){this.isTimer=!1,clearInterval(this.timerId)}},{key:"isCanMove",value:function(q){for(var e,t,i=0;i<this.fieldArr.length;i+=1)0===this.fieldArr[i]&&(e=i,this.zerroIndex=i),this.fieldArr[i]===Number(q)&&(t=i,this.prevIndex=i);return 0===this.fieldArr[t-this.size]||0===this.fieldArr[t+this.size]||(0===this.fieldArr[t-1]||0===this.fieldArr[t+1])&&Math.floor(t/this.size)===Math.floor(e/this.size)}},{key:"win",value:function(){if(this.stopTimer(),l.removeEventListener("click",this.timerPause),c.removeEventListener("click",this.saveGame),this.isSound){var q=new Audio;q.src=Z,q.play()}!function(){var q=t("div","shadow","",document.body);t("div","winMessage","Hooray! You solved the puzzle in ".concat(z.innerHTML," and ").concat(w.innerHTML," moves!"),q),q.addEventListener("click",(function(){q.remove()}))}(),this.field.removeEventListener("mousedown",this.mouseDown),this.records.push({time:this.time,moves:this.moves}),this.records.sort((function(q,e){return q.moves-e.moves})),this.records.length>10&&this.records.pop()}},{key:"moveCards",value:function(){var q=this;this.cards=[],this.fieldArr.forEach((function(e,t){if(e){var i=t%q.size,r=Math.floor(t/q.size),n=new f(q.cardWidth,e,i*q.cardWidth,r*q.cardWidth);q.cards.push(n)}})),this.field.innerHTML="",this.cards.map((function(e){return q.field.append(e.cardContainer)}))}},{key:"start",value:function(){if(this.isSound){var q=new Audio;q.src=K,q.play()}this.stopTimer(),z.innerHTML="00:00",w.innerHTML="00",this.time=0,this.moves=0,this.fieldArr=i(this.size*this.size),this.moveCards(),this.field.addEventListener("mousedown",this.mouseDown),this.field.addEventListener("mouseup",this.mouseUp),l.addEventListener("click",this.timerPause),c.addEventListener("click",this.saveGame),this.startTimer()}}],r&&F(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),q}();const J=new P(4);a.addEventListener("click",(function(){J.start()}))})()})();